<view class="container">
  <view class="header">
    <view class="date-text">{{dateStr}} {{weekStr}}</view>
    <view class="greeting-title">{{greetingTitle}} æœºé•¿ â˜€ï¸</view>
  </view>

  <view class="main-card">
    <view class="card-icon">
      <icon type="success_no_circle" color="#1296DB" size="30"/>
    </view>
    <view class="card-content">
      <view class="card-title">ä»Šæ—¥å·²èµ·é£{{todayCount}}æ¬¡ âœ¨</view>
      <view class="card-subtitle">ä¿æŒå¥½å¿ƒæƒ…~</view>
    </view>
  </view>

  <view class="content-row">
    <!-- Left Column: Redesigned Wider Vertical Slider -->
    <view class="left-col">
      <view class="slider-wrapper" id="v-slider" catchtouchstart="handleTouchStart" catchtouchmove="handleTouchMove" catchtouchend="handleTouchEnd" catchtouchcancel="handleTouchEnd">
        <view class="slider-track">
          <!-- Fluid Background Fill -->
          <view class="slider-fill" style="height: {{sliderValue}}%; background-color: {{sliderColor}}; opacity: 0.8;"></view>
          
          <!-- Animated Hint -->
          <view class="slider-hint-container" wx:if="{{sliderValue < 5}}">
            <view class="slider-hint-icon"></view>
            <view class="slider-hint-text">ä¸Šæ»‘ç¡®è®¤çŠ¶æ€</view>
          </view>
          
          <!-- Smaller Drag Thumb -->
          <!-- We color the border of the thumb dynamically based on progress -->
          <view class="slider-thumb" style="bottom: {{sliderValue}}%; border-color: {{sliderValue > 0 ? sliderColor : '#ccc'}};"></view>
        </view>
      </view>
    </view>

    <!-- Right Column: Stats and Tips mapped to 48% Space -->
    <view class="right-col">
      <view class="section-title">æœ¬å‘¨æ¦‚è§ˆ</view>
      <view class="stat-box">
        <view class="stat-label">â­ æ¬¡æ•°</view>
        <view class="stat-value"><text class="number">{{weekCount}}</text> æ¬¡</view>
      </view>
      <view class="stat-box">
        <view class="stat-label">ğŸ’— çŠ¶æ€</view>
        <view class="stat-value text-bold" style="color: {{currentStatusColor}}">{{currentStatus}}</view>
      </view>
      <view class="tip-card">
        <view class="tip-title">ğŸ’¡ å¥åº·å°è´´å£«</view>
        <view class="tip-content">{{healthTip}}</view>
      </view>
    </view>
  </view>
</view>